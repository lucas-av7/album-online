(function(t){function e(e){for(var n,l,a=e[0],r=e[1],c=e[2],d=0,m=[];d<a.length;d++)l=a[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&m.push(i[l][0]),i[l]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,a=1;a<o.length;a++){var r=o[a];0!==i[r]&&(n=!1)}n&&(s.splice(e--,1),t=l(l.s=o[0]))}return t}var n={},i={app:0},s=[];function l(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.m=t,l.c=n,l.d=function(t,e,o){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(o,n,function(e){return t[e]}.bind(null,n));return o},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/album-online/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=r;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("85ec"),i=o.n(n);i.a},"13d2":function(t,e,o){"use strict";var n=o("3e5f"),i=o.n(n);i.a},"15e8":function(t,e,o){"use strict";var n=o("f74e"),i=o.n(n);i.a},"17db":function(t,e,o){},2269:function(t,e,o){},3637:function(t,e,o){},"3e37":function(t,e,o){"use strict";var n=o("e12c"),i=o.n(n);i.a},"3e5b":function(t,e,o){"use strict";var n=o("b013"),i=o.n(n);i.a},"3e5f":function(t,e,o){},"44bd":function(t,e,o){},"45cb":function(t,e,o){"use strict";var n=o("3637"),i=o.n(n);i.a},4832:function(t,e,o){"use strict";var n=o("2269"),i=o.n(n);i.a},"4f20":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.handleScroll,expression:"handleScroll"}],attrs:{id:"app"}},[o("Header"),o("transition",{attrs:{name:"opacityAnimation",mode:"out-in"}},[o("router-view",{key:t.$route.fullPath})],1),o("transition",{attrs:{name:"footerTransition",mode:"out-in"}},[!t.searchBoxOpen&&t.showFooter?o("Footer",{on:{search:function(e){t.searchBoxOpen=!0}}}):t._e(),t.searchBoxOpen?o("SearchBox",{on:{close:function(e){t.searchBoxOpen=!1}}}):t._e()],1),t.globalLoading?o("GlobalLoading"):t._e(),o("transition",{attrs:{name:"errorAnimation"}},[t.globalError?o("GlobalError",{attrs:{error:t.globalError}}):t._e()],1)],1)},s=[],l=o("5530"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("img",{attrs:{src:o("cf05"),alt:"Logo Click"},on:{click:function(e){return t.toHome()}}})])},r=[],c={name:"Header",methods:{toHome:function(){"/"!=this.$router.currentRoute.path&&this.$router.push("/")}}},u=c,d=(o("8baf"),o("2877")),m=Object(d["a"])(u,a,r,!1,null,null,null),h=m.exports,p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("footer",[o("div",{staticClass:"menuFooter",on:{click:function(e){return t.toHome()}}},[o("i",{staticClass:"fas fa-book"})]),o("div",{staticClass:"menuFooter",on:{click:function(e){return t.toFavorites()}}},[o("i",{staticClass:"fas fa-heart"})]),o("div",{staticClass:"menuFooter",on:{click:function(e){return t.$emit("search")}}},[o("i",{staticClass:"fas fa-search"})])])},f=[],b={name:"Footer",methods:{toHome:function(){"/"!=this.$router.currentRoute.path&&this.$router.push("/")},toFavorites:function(){"/favorites"!=this.$router.currentRoute.path&&this.$router.push("/favorites")}}},v=b,g=(o("760c"),Object(d["a"])(v,p,f,!1,null,null,null)),x=g.exports,I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"searchBox"},[o("SendButton",{attrs:{width:"110",height:"55",type:"down",bg:"secondary"},on:{clicked:function(e){return t.$emit("close")}}}),o("Forms",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTag,expression:"searchTag"}],ref:"searchInput",staticClass:"inputTag",attrs:{type:"text",placeholder:"Search by tag...",maxlength:"15"},domProps:{value:t.searchTag},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:function(e){e.target.composing||(t.searchTag=e.target.value)}}})]),o("SendButton",{attrs:{width:"110",height:"55",type:"search"},on:{clicked:t.search}})],1)},y=[],A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"forms"},[t._t("default")],2)},w=[],_={name:"Forms"},T=_,k=(o("15e8"),Object(d["a"])(T,A,w,!1,null,null,null)),P=k.exports,C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"sendButton",class:t.bg,style:"width: "+t.width+"px; height: "+t.height+"px",on:{click:function(e){return t.$emit("clicked")}}},["plane"==t.type?o("i",{staticClass:"fas fa-paper-plane"}):t._e(),"plus"==t.type?o("i",{staticClass:"fas fa-plus"}):t._e(),"search"==t.type?o("i",{staticClass:"fas fa-search"}):t._e(),"down"==t.type?o("i",{staticClass:"fas fa-arrow-down"}):t._e()])},S=[],M={name:"SendButton",props:{type:{type:String,default:"plane"},width:{type:String,default:"60"},height:{type:String,default:"45"},bg:{type:String,default:"primary"}}},$=M,D=(o("7891"),Object(d["a"])($,C,S,!1,null,null,null)),O=D.exports,B=(o("ac1f"),o("5319"),{methods:{removeDoubleSpaces:function(t){return t.replace(/  +/g," ")},removeSpecialCharactersKeywords:function(t){return t.replace(/[!@#$%^&*()_+\-=[\]{};'`:"\\|,.<>/?~ ]/i,"")}}}),E={name:"SearchBox",components:{Forms:P,SendButton:O},data:function(){return{searchTag:""}},mixins:[B],methods:{search:function(){""!=this.searchTag&&this.$router.currentRoute.path!="/search/".concat(this.searchTag)&&(this.$router.push("/search/".concat(this.searchTag)),this.searchContainer=!1,this.searchTag="",this.$emit("close"))}},watch:{searchTag:function(){this.searchTag=this.removeSpecialCharactersKeywords(this.searchTag).toLowerCase()}},mounted:function(){this.$refs.searchInput.focus()}},K=E,N=(o("9e35"),Object(d["a"])(K,I,y,!1,null,null,null)),j=N.exports,F=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},L=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"globalLoading"},[o("div",{staticClass:"loadIcon"},[o("i",{staticClass:"fas fa-circle-notch"})]),o("p",[t._v("Loading...")])])}],R={name:"GlobalLoading"},J=R,H=(o("5b6f"),Object(d["a"])(J,F,L,!1,null,null,null)),U=H.exports,V=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"globalError"},[o("i",{staticClass:"fas fa-exclamation-circle errorIcon"}),o("h3",[t._v(t._s(t.error))]),o("i",{staticClass:"fas fa-exclamation-circle errorIcon"})])},G=[],Y={name:"GlobalError",props:["error"],created:function(){var t=this;setTimeout((function(){t.$store.dispatch("addTextError","")}),4e3)}},q=Y,W=(o("b6bd"),Object(d["a"])(q,V,G,!1,null,null,null)),z=W.exports,Q=o("2f62"),X={name:"App",components:{Header:h,Footer:x,SearchBox:j,GlobalLoading:U,GlobalError:z},data:function(){return{showFooter:!0,searchBoxOpen:!1,lastY:0}},computed:Object(l["a"])({},Object(Q["b"])(["globalLoading","globalError"])),methods:{handleScroll:function(){this.showFooter=this.lastY>window.pageYOffset,this.lastY=window.pageYOffset}}},Z=X,tt=(o("034f"),Object(d["a"])(Z,i,s,!1,null,null,null)),et=tt.exports,ot=o("8c4f"),nt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("h1",[t._v("Welcome to your online photo album")]),0==t.allAlbums.length?[o("CreateAlbumPhoto",{attrs:{firstAlbum:"",type:"album"},on:{clicked:function(e){t.newAlbumModal=!0}}}),o("transition",{attrs:{name:"modal"}},[t.newAlbumModal?o("NewAlbum",{on:{close:function(e){return t.closeModal()}}}):t._e()],1)]:[o("transition",{attrs:{name:"opacityAnimation",mode:"out-in"}},[t.editInfo.status?o("MenuButton",{key:"menu2"},[o("h3",[t._v("Selected albums")]),o("hr"),t.editInfo.selectedAlbums.length<t.allAlbums.length?o("p",{on:{click:function(e){t.selectAll=!0}}},[t._v(" Select all ")]):t._e(),t.editInfo.selectedAlbums.length>0?[o("p",{on:{click:function(e){t.deleteSelectedAlbumsModal=!0}}},[t._v("Delete")])]:t._e(),o("p",{on:{click:function(e){return t.edit(!1)}}},[t._v("Cancel")])],2):o("MenuButton",[o("h3",[t._v("Home menu")]),o("hr"),o("p",{on:{click:function(e){return t.edit(!0)}}},[t._v("Edit")])])],1),o("Albums",{attrs:{selectAll:t.selectAll},on:{selectAllReset:function(e){t.selectAll=!1}}})],o("transition",{attrs:{name:"modal"}},[t.deleteSelectedAlbumsModal?o("Modal",{on:{clicked:function(e){t.deleteSelectedAlbumsModal=!1}}},[o("h1",[t._v("Delete "+t._s(t.editInfo.selectedAlbums.length)+" album"+t._s(t.editInfo.selectedAlbums.length>1?"s":"")+"?")]),o("template",{slot:"buttonsArea"},[o("ActionButton",{attrs:{text:"Cancel",type:"secondary"},on:{clicked:function(e){t.deleteSelectedAlbumsModal=!1}}}),o("ActionButton",{attrs:{text:"Delete",type:"danger"},on:{clicked:function(e){return t.deleteSelectedAlbums()}}})],1)],2):t._e()],1)],2)},it=[],st=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"createAlbum"},["album"==t.type?[o("div",{staticClass:"createAlbumPhotoFrame",class:{firstAlbum:t.firstAlbum},on:{click:function(e){return t.$emit("clicked")}}},[o("i",{staticClass:"fas fa-book albumIcon"}),o("h2",[t._v("New album")])]),t.firstAlbum?o("h2",[t._v("Create your first album")]):t._e()]:t._e(),"photo"==t.type?[o("div",{staticClass:"createAlbumPhotoFrame",on:{click:function(e){return t.$emit("clicked")}}},[o("i",{staticClass:"far fa-image albumIcon"}),o("h2",[t._v("New photo")])])]:t._e()],2)},lt=[],at={name:"CreateAlbumPhoto",props:{firstAlbum:{type:Boolean,default:!1},type:{type:String}}},rt=at,ct=(o("13d2"),Object(d["a"])(rt,st,lt,!1,null,null,null)),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"albums"},[t._l(t.allAlbums,(function(e){return o("Album",{key:e.albumId,attrs:{album:e,selectAll:t.selectAll},on:{selectAllReset:function(e){return t.$emit("selectAllReset")}}})})),o("CreateAlbumPhoto",{directives:[{name:"show",rawName:"v-show",value:!t.editStatus,expression:"!editStatus"}],attrs:{type:"album"},on:{clicked:function(e){t.newAlbumModal=!0}}}),o("transition",{attrs:{name:"modal"}},[t.newAlbumModal?o("NewAlbum",{on:{close:function(e){return t.closeModal()}}}):t._e()],1)],2)},mt=[],ht=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"album"},[t.editStatus?o("div",{staticClass:"selectBox"},[o("div",{staticClass:"selectBoxOverlay",on:{click:function(e){return t.selectAlbumToggle()}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selected)?t._i(t.selected,null)>-1:t.selected},on:{change:function(e){var o=t.selected,n=e.target,i=!!n.checked;if(Array.isArray(o)){var s=null,l=t._i(o,s);n.checked?l<0&&(t.selected=o.concat([s])):l>-1&&(t.selected=o.slice(0,l).concat(o.slice(l+1)))}else t.selected=i}}})]):t._e(),o("router-link",{staticClass:"linkRouter",attrs:{tag:"button",to:"/album/"+t.album.albumId,disabled:t.editStatus}},[o("div",{staticClass:"albumFrame",class:{selectedAlbum:t.selected}},[""==t.photoUrl?o("i",{staticClass:"far fa-folder-open albumIcon"}):o("img",{attrs:{src:t.photoUrl,alt:t.album.title}})])]),o("p",[t._v(t._s(t.album.title))]),o("p",{staticClass:"albumLength"},[t._v(t._s(t.album.photos.length))])],1)},pt=[],ft={name:"Album",data:function(){return{selected:!1}},props:{album:{type:Object,required:!0},selectAll:{type:Boolean}},computed:{photoUrl:function(){if(0==this.album.photos.length)return"";var t=this.album.photos[this.album.photos.length-1];return t.url.replace(t.photoId,t.photoId+"m")||""},editStatus:function(){return this.$store.getters.getEditInfo.status}},methods:{selectAlbumToggle:function(t){"all"==t&&this.selected||(this.selected=!this.selected,this.$store.dispatch("selectAlbumToggle",this.album.albumId))}},watch:{editStatus:function(){this.selected=!1},selected:function(){0==this.selected&&this.$emit("selectAllReset")},selectAll:function(){this.selectAll&&this.selectAlbumToggle("all")}}},bt=ft,vt=(o("8ade"),Object(d["a"])(bt,ht,pt,!1,null,null,null)),gt=vt.exports,xt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Modal",{on:{clicked:function(e){return t.$emit("close")}}},[o("h1",[t._v("New album")]),o("Forms",[o("label",{attrs:{for:"title"}},[t._v("Title")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.albumTitle,expression:"albumTitle"}],attrs:{type:"text",name:"title",placeholder:"Album title",maxlength:"25"},domProps:{value:t.albumTitle},on:{input:function(e){e.target.composing||(t.albumTitle=e.target.value)}}}),o("label",{attrs:{for:"description"}},[t._v("Description")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.albumDescription,expression:"albumDescription"}],attrs:{type:"text",name:"description",placeholder:"Album description (optional)",maxlength:"50"},domProps:{value:t.albumDescription},on:{input:function(e){e.target.composing||(t.albumDescription=e.target.value)}}})]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"errosInput"},[o("p",[t._v(t._s(t.error))])]),o("template",{slot:"buttonsArea"},[o("ActionButton",{attrs:{text:"Cancel",type:"secondary"},on:{clicked:function(e){return t.$emit("close")}}}),o("ActionButton",{attrs:{text:"Create",type:"primary"},on:{clicked:function(e){return t.create()}}})],1)],2)},It=[],yt=(o("4de4"),o("498a"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"actionButton",class:t.type,on:{click:function(e){return t.$emit("clicked")}}},[t._v(" "+t._s(t.text)+" ")])}),At=[],wt={name:"ActionButton",props:["text","type"]},_t=wt,Tt=(o("f022"),Object(d["a"])(_t,yt,At,!1,null,null,null)),kt=Tt.exports,Pt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal"},[o("div",{staticClass:"overlayModal",on:{click:function(e){return t.$emit("clicked")}}}),o("div",{staticClass:"modalData"},[t._t("default"),o("div",{staticClass:"buttonsArea"},[t._t("buttonsArea")],2)],2)])},Ct=[],St={created:function(){document.body.style.overflow="hidden"},destroyed:function(){document.body.style.overflow="initial"}},Mt=St,$t=(o("a7de"),Object(d["a"])(Mt,Pt,Ct,!1,null,null,null)),Dt=$t.exports,Ot={name:"NewAlbum",mixins:[B],components:{ActionButton:kt,Modal:Dt,Forms:P},data:function(){return{albumTitle:"",albumDescription:"",error:""}},watch:{albumTitle:function(){this.albumTitle=this.removeDoubleSpaces(this.albumTitle)},albumDescription:function(){this.albumDescription=this.removeDoubleSpaces(this.albumDescription)}},methods:{create:function(){var t=this.checkErros();if(t){var e={title:this.albumTitle.trim(),description:this.albumDescription.trim(),photos:[]};this.$store.dispatch("createAlbum",e),this.$emit("close")}},checkErros:function(){var t=this;if(""==this.albumTitle)return this.error="Error: Title is blank",!1;var e=this.$store.getters.getAlbums,o=e.filter((function(e){return e.title==t.albumTitle})).length>0;return o?(this.error="Error: Title is already used",!1):(this.error="",!0)}}},Bt=Ot,Et=(o("afea"),Object(d["a"])(Bt,xt,It,!1,null,null,null)),Kt=Et.exports,Nt={name:"Albums",props:["selectAll"],components:{Album:gt,CreateAlbumPhoto:ut,NewAlbum:Kt},data:function(){return{newAlbumModal:!1}},computed:{allAlbums:function(){return this.$store.getters.getAlbums},editStatus:function(){return this.$store.getters.getEditInfo.status}},methods:{closeModal:function(){this.newAlbumModal=!1}}},jt=Nt,Ft=(o("45cb"),Object(d["a"])(jt,dt,mt,!1,null,null,null)),Lt=Ft.exports,Rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"menuButton"},[o("div",{staticClass:"menuIcon",on:{click:function(e){t.menu=!0}}},[o("span",{staticClass:"dotMenu"})]),o("transition",{attrs:{name:"menuDropDown"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.menu,expression:"menu"}],staticClass:"menuDropDown"},[o("div",{directives:[{name:"touch",rawName:"v-touch:swipe",value:t.swipeHandler,expression:"swipeHandler",arg:"swipe"}],staticClass:"overlay",on:{click:function(e){t.menu=!1},mousewheel:function(e){t.menu=!1}}}),o("div",{staticClass:"menuContent",on:{click:function(e){t.menu=!1}}},[t._t("default")],2)])])],1)},Jt=[],Ht={name:"MenuButton",data:function(){return{menu:!1}},methods:{swipeHandler:function(){this.menu=!1}}},Ut=Ht,Vt=(o("4832"),Object(d["a"])(Ut,Rt,Jt,!1,null,null,null)),Gt=Vt.exports,Yt={name:"Home",components:{CreateAlbumPhoto:ut,Albums:Lt,NewAlbum:Kt,MenuButton:Gt,Modal:Dt,ActionButton:kt},computed:{allAlbums:function(){return this.$store.getters.getAlbums},editInfo:function(){return this.$store.getters.getEditInfo}},data:function(){return{newAlbumModal:!1,selectAll:!1,deleteSelectedAlbumsModal:!1}},methods:{closeModal:function(){this.newAlbumModal=!1},edit:function(t){this.$store.dispatch("editStatusToggle",t),this.selectAll=!1},deleteSelectedAlbums:function(){this.$store.dispatch("deleteSelectedAlbums",this.id),this.deleteSelectedAlbumsModal=!1}},beforeDestroy:function(){this.edit(!1)}},qt=Yt,Wt=(o("cccb"),Object(d["a"])(qt,nt,it,!1,null,null,null)),zt=Wt.exports,Qt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"albumView"},[o("h1",[t._v(t._s(t.album.title))]),o("p",[t._v(t._s(t.album.description))]),o("transition",{attrs:{name:"opacityAnimation",mode:"out-in"}},[t.editInfo.status?o("MenuButton",{key:"menu2"},[o("h3",[t._v("Selected photos")]),o("hr"),t.editInfo.selectedPhotos.length<t.album.photos.length?o("p",{on:{click:function(e){t.selectAll=!0}}},[t._v(" Select all ")]):t._e(),t.editInfo.selectedPhotos.length>0?[o("p",{on:{click:function(e){t.deleteSelectedPhotosModal=!0}}},[t._v("Delete")]),o("p",{on:{click:function(e){t.moveSelectedPhotosModal=!0}}},[t._v("Move")])]:t._e(),o("p",{on:{click:function(e){return t.edit(!1)}}},[t._v("Cancel")])],2):o("MenuButton",{key:"menu1"},[o("h3",[t._v("Album menu")]),o("hr"),t.album.photos&&t.album.photos.length>0?o("p",{on:{click:function(e){return t.edit(!0)}}},[t._v("Edit")]):t._e(),o("p",{on:{click:function(e){t.renameAlbumModal=!0,t.retrieveInfo()}}},[t._v("Rename")]),o("p",{on:{click:function(e){t.deleteAlbumModal=!0}}},[t._v("Delete")])])],1),-1!=t.albumIndex?o("Photos",{attrs:{albumId:t.id,selectAll:t.selectAll},on:{selectAllReset:function(e){t.selectAll=!1}}}):t._e(),o("transition",{attrs:{name:"modal"}},[t.renameAlbumModal?o("Modal",{on:{clicked:function(e){t.renameAlbumModal=!1}}},[o("h1",[t._v("Rename album")]),o("Forms",[o("label",{attrs:{for:"title"}},[t._v("Title")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.editTitleText,expression:"editTitleText"}],attrs:{type:"text",name:"title",placeholder:"Album title",maxlength:"25"},domProps:{value:t.editTitleText},on:{input:function(e){e.target.composing||(t.editTitleText=e.target.value)}}}),o("label",{attrs:{for:"description"}},[t._v("Description")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.editDescriptionText,expression:"editDescriptionText"}],attrs:{type:"text",name:"description",placeholder:"Album description",maxlength:"50"},domProps:{value:t.editDescriptionText},on:{input:function(e){e.target.composing||(t.editDescriptionText=e.target.value)}}})]),o("template",{slot:"buttonsArea"},[o("ActionButton",{attrs:{text:"Cancel",type:"secondary"},on:{clicked:function(e){t.renameAlbumModal=!1}}}),o("ActionButton",{attrs:{text:"Save",type:"primary"},on:{clicked:function(e){return t.renameAlbum()}}})],1)],2):t._e(),t.deleteAlbumModal?o("Modal",{on:{clicked:function(e){t.deleteAlbumModal=!1}}},[o("h1",[t._v("Delete album?")]),o("template",{slot:"buttonsArea"},[o("ActionButton",{attrs:{text:"Cancel",type:"secondary"},on:{clicked:function(e){t.deleteAlbumModal=!1}}}),o("ActionButton",{attrs:{text:"Delete",type:"danger"},on:{clicked:function(e){return t.deleteAlbum()}}})],1)],2):t._e(),t.deleteSelectedPhotosModal?o("Modal",{on:{clicked:function(e){t.deleteSelectedPhotosModal=!1}}},[o("h1",[t._v("Delete "+t._s(t.editInfo.selectedPhotos.length)+" photo"+t._s(t.editInfo.selectedPhotos.length>1?"s":"")+"?")]),o("template",{slot:"buttonsArea"},[o("ActionButton",{attrs:{text:"Cancel",type:"secondary"},on:{clicked:function(e){t.deleteSelectedPhotosModal=!1}}}),o("ActionButton",{attrs:{text:"Delete",type:"danger"},on:{clicked:function(e){return t.deleteSelectedPhotos()}}})],1)],2):t._e(),t.moveSelectedPhotosModal?o("Modal",{on:{clicked:function(e){t.moveSelectedPhotosModal=!1}}},[o("h1",[t._v("Move "+t._s(t.editInfo.selectedPhotos.length)+" photo"+t._s(t.editInfo.selectedPhotos.length>1?"s":"")+"?")]),o("Forms",[o("label",{attrs:{for:"albumMove"}},[t._v("Choose the album")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.destinationAlbumId,expression:"destinationAlbumId"}],attrs:{name:"albumMove"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.destinationAlbumId=e.target.multiple?o:o[0]}}},[o("option",{attrs:{disabled:"",selected:""},domProps:{value:null}},[t._v(" "+t._s(t.albums.length>1?"Select album":"No other albums")+" ")]),t._l(t.albums,(function(e,n){return o("option",{key:n,attrs:{hidden:e.albumId==t.id},domProps:{value:e.albumId}},[t._v(" "+t._s(e.title)+" ")])}))],2)]),o("template",{slot:"buttonsArea"},[o("ActionButton",{attrs:{text:"Cancel",type:"secondary"},on:{clicked:function(e){t.moveSelectedPhotosModal=!1}}}),o("ActionButton",{attrs:{text:"Move",type:"primary"},on:{clicked:function(e){return t.moveSelectedPhotos()}}})],1)],2):t._e()],1)],1)},Xt=[],Zt=(o("a4d3"),o("e01a"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"photos"},[t._l(t.photos,(function(e){return o("Photo",{key:e.id,attrs:{photo:e,selectAll:t.selectAll},on:{selectAllReset:function(e){return t.$emit("selectAllReset")}}})})),o("CreateAlbumPhoto",{directives:[{name:"show",rawName:"v-show",value:!t.editStatus,expression:"!editStatus"}],attrs:{type:"photo"},on:{clicked:function(e){t.newPhotoModal=!0}}}),o("transition",{attrs:{name:"modal"}},[t.newPhotoModal?o("NewPhoto",{attrs:{albumId:t.albumId},on:{close:function(e){return t.closeModal()}}}):t._e()],1)],2)}),te=[],ee=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"photo"},[t.editStatus?o("div",{staticClass:"selectBox"},[o("div",{staticClass:"selectBoxOverlay",on:{click:function(e){return t.selectPhotoToggle()}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selected)?t._i(t.selected,null)>-1:t.selected},on:{change:function(e){var o=t.selected,n=e.target,i=!!n.checked;if(Array.isArray(o)){var s=null,l=t._i(o,s);n.checked?l<0&&(t.selected=o.concat([s])):l>-1&&(t.selected=o.slice(0,l).concat(o.slice(l+1)))}else t.selected=i}}})]):t._e(),o("router-link",{staticClass:"linkRouter",attrs:{tag:"button",to:"/photo/"+t.photo.albumId+"/"+t.photo.photoId,disabled:t.editStatus}},[o("div",{staticClass:"photoFrame",class:{selectedPhoto:t.selected}},[o("img",{attrs:{src:t.photoUrl,alt:t.photo.title}})])]),o("p",[t._v(t._s(t.photo.title))])],1)},oe=[],ne={name:"Photo",data:function(){return{selected:!1}},props:{photo:{type:Object,required:!0},selectAll:{type:Boolean}},computed:{photoUrl:function(){return this.photo.url.replace(this.photo.photoId,this.photo.photoId+"m")},editStatus:function(){return this.$store.getters.getEditInfo.status}},methods:{selectPhotoToggle:function(t){"all"==t&&this.selected||(this.selected=!this.selected,this.$store.dispatch("selectPhotoToggle",this.photo.photoId))}},watch:{editStatus:function(){this.selected=!1},selected:function(){0==this.selected&&this.$emit("selectAllReset")},selectAll:function(){this.selectAll&&this.selectPhotoToggle("all")}}},ie=ne,se=(o("a197"),Object(d["a"])(ie,ee,oe,!1,null,null,null)),le=se.exports,ae=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Modal",{on:{clicked:function(e){return t.$emit("close")}}},[o("h1",[t._v("Upload photo")]),o("Forms",[o("div",{staticClass:"imagePreview",on:{click:function(e){return t.$refs.uploadPhotoButton.click()}}},[0==t.imgPreview.length?o("i",{staticClass:"far fa-file-image"}):o("img",{attrs:{src:t.imgPreview,alt:"Image preview"}})]),o("input",{ref:"uploadPhotoButton",attrs:{type:"file",name:"photo",accept:"image/*"},on:{change:t.onFileSelected}}),o("label",{attrs:{for:"title"}},[t._v("Title")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.photoTitle,expression:"photoTitle"}],attrs:{type:"text",name:"title",placeholder:"Photo title",maxlength:"25"},domProps:{value:t.photoTitle},on:{input:function(e){e.target.composing||(t.photoTitle=e.target.value)}}}),o("label",{attrs:{for:"description"}},[t._v("Description")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.photoDescription,expression:"photoDescription"}],attrs:{type:"text",name:"description",placeholder:"Photo description (optional)",maxlength:"50"},domProps:{value:t.photoDescription},on:{input:function(e){e.target.composing||(t.photoDescription=e.target.value)}}}),o("label",{attrs:{for:"keywords"}},[t._v("Keywords")]),o("div",{staticClass:"keywordsContainer"},[o("div",{staticClass:"keywordsForm"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.photoKeywordsText,expression:"photoKeywordsText"}],attrs:{type:"text",name:"keywords",placeholder:"At least 3 characters. Max: 5 keywords.",maxlength:"15"},domProps:{value:t.photoKeywordsText},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addKeyword()},input:function(e){e.target.composing||(t.photoKeywordsText=e.target.value)}}}),o("SendButton",{attrs:{type:"plus"},on:{clicked:function(e){return t.addKeyword()}}})],1),o("div",{staticClass:"keywordsList"},t._l(t.photoKeywords,(function(e,n){return o("p",{key:n},[t._v(" "+t._s(e)+" "),o("i",{staticClass:"fas fa-times-circle remove",on:{click:function(e){return t.photoKeywords.splice(n,1)}}})])})),0)])]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"errosInput"},[o("p",[t._v(t._s(t.error))])]),o("template",{slot:"buttonsArea"},[o("ActionButton",{attrs:{text:"Cancel",type:"secondary"},on:{clicked:function(e){return t.$emit("close")}}}),o("ActionButton",{attrs:{text:"Upload",type:"primary"},on:{clicked:function(e){return t.upload()}}})],1)],2)},re=[],ce=(o("caad"),o("c975"),o("d3b7"),o("2532"),o("3ca3"),o("ddb0"),o("2b3d"),{name:"NewPhoto",mixins:[B],props:["albumId"],components:{ActionButton:kt,Modal:Dt,Forms:P,SendButton:O},data:function(){return{selectedFile:null,photoTitle:"",photoDescription:"",photoKeywordsText:"",photoKeywords:[],error:"",imgPreview:""}},watch:{photoTitle:function(){this.photoTitle=this.removeDoubleSpaces(this.photoTitle)},photoDescription:function(){this.photoDescription=this.removeDoubleSpaces(this.photoDescription)},photoKeywordsText:function(){this.photoKeywordsText=this.removeSpecialCharactersKeywords(this.photoKeywordsText).toLowerCase()}},methods:{addKeyword:function(){this.photoKeywords.includes(this.photoKeywordsText)||this.photoKeywordsText.length>2&&this.photoKeywords.length<5&&(this.photoKeywords.push(this.photoKeywordsText),this.photoKeywordsText="")},upload:function(){var t=this.checkErros();if(t){var e={title:this.photoTitle.trim(),description:this.photoDescription.trim(),keywords:this.photoKeywords,albumId:parseInt(this.albumId),comments:[],favorited:!1,imageToUpload:this.selectedFile};this.$store.dispatch("newPhoto",e),this.$emit("close")}},checkErros:function(){return null==this.selectedFile?(this.error="Error: No photo selected",!1):""==this.photoTitle?(this.error="Error: Title is blank",!1):(this.error="",!0)},onFileSelected:function(t){var e=t.target.files[0].type.indexOf("image");if(-1!=e){var o=t.target.files[0];this.selectedFile=o,this.imgPreview=URL.createObjectURL(o)}}}}),ue=ce,de=(o("a884"),Object(d["a"])(ue,ae,re,!1,null,null,null)),me=de.exports,he={name:"Photos",components:{Photo:le,CreateAlbumPhoto:ut,NewPhoto:me},data:function(){return{newPhotoModal:!1}},props:["albumId","selectAll"],computed:{photos:function(){var t=this;return this.$store.getters.getAlbums.filter((function(e){return e.albumId==t.albumId}))[0].photos||[]},editStatus:function(){return this.$store.getters.getEditInfo.status}},methods:{closeModal:function(){this.newPhotoModal=!1}}},pe=he,fe=(o("3e5b"),Object(d["a"])(pe,Zt,te,!1,null,null,null)),be=fe.exports,ve={name:"AlbumView",components:{Photos:be,MenuButton:Gt,Modal:Dt,ActionButton:kt,Forms:P},mixins:[B],data:function(){return{renameAlbumModal:!1,deleteAlbumModal:!1,deleteSelectedPhotosModal:!1,moveSelectedPhotosModal:!1,editTitleText:"",editDescriptionText:"",albumIndex:null,destinationAlbumId:null,selectAll:!1}},props:["id"],watch:{editTitleText:function(){this.editTitleText=this.removeDoubleSpaces(this.editTitleText)},editDescriptionText:function(){this.editDescriptionText=this.removeDoubleSpaces(this.editDescriptionText)}},computed:{albums:function(){return this.$store.getters.getAlbums},album:function(){var t=this;return this.albums.filter((function(e){return e.albumId==t.id}))[0]||[]},editInfo:function(){return this.$store.getters.getEditInfo}},methods:{deleteAlbum:function(){this.$store.dispatch("deleteAlbum",this.id),this.$router.push("/")},retrieveInfo:function(){this.editTitleText=this.album.title,this.editDescriptionText=this.album.description},renameAlbum:function(){if(this.editTitleText=this.editTitleText.trim(),this.editDescriptionText=this.editDescriptionText.trim(),""==this.editTitleText||this.editTitleText==this.album.title&&this.editDescriptionText==this.album.description)this.renameAlbumModal=!1;else{var t={albumId:this.id,newTitle:this.editTitleText,newDescription:this.editDescriptionText};this.$store.dispatch("renameAlbum",t),this.renameAlbumModal=!1}},edit:function(t){this.$store.dispatch("editStatusToggle",t),this.selectAll=!1},deleteSelectedPhotos:function(){this.$store.dispatch("deleteSelectedPhotos",this.id),this.deleteSelectedPhotosModal=!1},moveSelectedPhotos:function(){null!=this.destinationAlbumId&&(this.$store.dispatch("moveSelectedPhotos",{albumId:this.id,destinationAlbumId:this.destinationAlbumId}),this.$router.push("/album/".concat(this.destinationAlbumId)))}},created:function(){this.albumIndex=this.$store.getters.getAlbumIndex(this.id),-1==this.albumIndex&&this.$router.push("/")},beforeDestroy:function(){this.edit(!1)}},ge=ve,xe=(o("8f78"),Object(d["a"])(ge,Qt,Xt,!1,null,null,null)),Ie=xe.exports,ye=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"photoView"},[o("h1",[t._v(t._s(t.photo.title))]),o("h3",[t._v("Album: "),o("router-link",{staticClass:"albumLink",attrs:{to:"/album/"+t.album.albumId}},[t._v(" "+t._s(t.album.title))])],1),o("MenuButton",[o("h3",[t._v("Photo menu")]),o("hr"),o("p",{on:{click:function(e){t.renamePhotoModal=!0,t.retrieveInfo()}}},[t._v("Rename")]),o("p",{on:{click:function(e){t.movePhotoModal=!0}}},[t._v("Move")]),o("p",{on:{click:function(e){t.deletePhotoModal=!0}}},[t._v("Delete")])]),o("transition",{attrs:{name:"modal"}},[t.renamePhotoModal?o("Modal",{on:{clicked:function(e){t.renamePhotoModal=!1}}},[o("h1",[t._v("Rename photo")]),o("Forms",[o("label",{attrs:{for:"title"}},[t._v("Title")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.editTitleText,expression:"editTitleText"}],attrs:{type:"text",name:"title",placeholder:"Photo title",maxlength:"25"},domProps:{value:t.editTitleText},on:{input:function(e){e.target.composing||(t.editTitleText=e.target.value)}}}),o("label",{attrs:{for:"description"}},[t._v("Description")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.editDescriptionText,expression:"editDescriptionText"}],attrs:{type:"text",name:"description",placeholder:"Photo description",maxlength:"50"},domProps:{value:t.editDescriptionText},on:{input:function(e){e.target.composing||(t.editDescriptionText=e.target.value)}}}),o("label",{attrs:{for:"keywords"}},[t._v("Keywords")]),o("div",{staticClass:"keywordsContainer"},[o("div",{staticClass:"keywordsForm"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.photoKeywordsText,expression:"photoKeywordsText"}],attrs:{type:"text",name:"keywords",placeholder:"At least 3 characters. Max: 5 keywords.",maxlength:"15"},domProps:{value:t.photoKeywordsText},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editAddKeyword()},input:function(e){e.target.composing||(t.photoKeywordsText=e.target.value)}}}),o("SendButton",{attrs:{type:"plus"},on:{clicked:function(e){return t.editAddKeyword()}}})],1),o("div",{staticClass:"keywordsList"},t._l(t.renamePhotoKeywords,(function(e,n){return o("p",{key:n},[t._v(" "+t._s(e)+" "),o("i",{staticClass:"fas fa-times-circle remove",on:{click:function(e){return t.renamePhotoKeywords.splice(n,1)}}})])})),0)])]),o("template",{slot:"buttonsArea"},[o("ActionButton",{attrs:{text:"Cancel",type:"secondary"},on:{clicked:function(e){t.renamePhotoModal=!1}}}),o("ActionButton",{attrs:{text:"Save",type:"primary"},on:{clicked:function(e){return t.renamePhoto()}}})],1)],2):t._e(),t.deletePhotoModal?o("Modal",{on:{clicked:function(e){t.deletePhotoModal=!1}}},[o("h1",[t._v("Delete photo?")]),o("template",{slot:"buttonsArea"},[o("ActionButton",{attrs:{text:"Cancel",type:"secondary"},on:{clicked:function(e){t.deletePhotoModal=!1}}}),o("ActionButton",{attrs:{text:"Delete",type:"danger"},on:{clicked:function(e){return t.deletePhoto()}}})],1)],2):t._e(),t.movePhotoModal?o("Modal",{on:{clicked:function(e){t.movePhotoModal=!1}}},[o("h1",[t._v("Move photo")]),o("Forms",[o("label",{attrs:{for:"albumMove"}},[t._v("Choose the album")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.destinationAlbumId,expression:"destinationAlbumId"}],attrs:{name:"albumMove"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.destinationAlbumId=e.target.multiple?o:o[0]}}},[o("option",{attrs:{disabled:"",selected:""},domProps:{value:null}},[t._v(" "+t._s(t.albums.length>1?"Select album":"No other albums")+" ")]),t._l(t.albums,(function(e,n){return o("option",{key:n,attrs:{hidden:e.albumId==t.albumId},domProps:{value:e.albumId}},[t._v(" "+t._s(e.title)+" ")])}))],2)]),o("template",{slot:"buttonsArea"},[o("ActionButton",{attrs:{text:"Cancel",type:"secondary"},on:{clicked:function(e){t.movePhotoModal=!1}}}),o("ActionButton",{attrs:{text:"Move",type:"primary"},on:{clicked:function(e){return t.movePhoto()}}})],1)],2):t._e()],1),o("figure",[o("img",{attrs:{src:t.photo.url,alt:t.photo.title}}),o("figcaption",[t._v(t._s(t.photo.description))]),o("div",{staticClass:"photoButtons"},[t.previusPhoto?o("button",{staticClass:"arrow left",attrs:{title:"Previus photo"},on:{click:function(e){return t.switchPhoto(t.previusPhoto)}}},[o("i",{staticClass:"fas fa-arrow-circle-left"})]):t._e(),o("div",{staticClass:"favorite",on:{click:function(e){return t.favoriteToggle()}}},[t.photo.favorited?o("i",{staticClass:"fas fa-heart heartFull",attrs:{title:"Remove from favorite photos"}}):o("i",{staticClass:"far fa-heart heartEmpty",attrs:{title:"Add to favorite photos"}})]),t.nextPhoto?o("button",{staticClass:"arrow right",attrs:{title:"Next photo"},on:{click:function(e){return t.switchPhoto(t.nextPhoto)}}},[o("i",{staticClass:"fas fa-arrow-circle-right"})]):t._e()]),o("div",{staticClass:"keywords"},t._l(t.photo.keywords,(function(e,n){return o("p",{key:n},[o("router-link",{staticClass:"linkKeywords",attrs:{to:"/search/"+e}},[t._v(" #"+t._s(e)+" ")])],1)})),0)]),o("div",{staticClass:"commentsContainer"},[o("div",{staticClass:"form"},[o("Forms",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.commentText,expression:"commentText"}],ref:"commentInput",attrs:{type:"text",placeholder:"Write a comment...",maxlength:"100"},domProps:{value:t.commentText},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addComment(e)},input:function(e){e.target.composing||(t.commentText=e.target.value)}}})]),o("SendButton",{on:{clicked:t.addComment}})],1),o("div",{staticClass:"comments"},t._l(t.photo.comments,(function(e,n){return o("div",{key:n,staticClass:"comment"},[t._m(0,!0),o("div",{staticClass:"commentText"},[o("h3",[t._v("Anonymous")]),o("p",[t._v(t._s(e))]),o("div",{staticClass:"deleteComment"},[o("i",{staticClass:"fas fa-times remove",on:{click:function(e){return t.deleteComment(n)}}})])])])})),0)])],1)},Ae=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"user"},[o("i",{staticClass:"fas fa-user-alt"})])}],we=(o("99af"),o("25f0"),o("2909")),_e={name:"PhotoView",components:{MenuButton:Gt,Modal:Dt,ActionButton:kt,Forms:P,SendButton:O},props:["albumId","photoId"],mixins:[B],data:function(){return{renamePhotoModal:!1,deletePhotoModal:!1,movePhotoModal:!1,commentText:"",destinationAlbumId:null,editTitleText:"",editDescriptionText:"",renamePhotoKeywords:[],photoKeywordsText:"",photoIndex:null}},computed:{albums:function(){return this.$store.getters.getAlbums},album:function(){var t=this;return this.albums.filter((function(e){return e.albumId==t.albumId}))[0]||[]},photo:function(){var t=this;return 0==this.album.length?[]:this.album.photos.filter((function(e){return e.photoId==t.photoId}))[0]||[]},nextPhoto:function(){return-1==this.photoIndex||this.photoIndex==this.album.photos.length-1?null:this.album.photos[this.photoIndex+1].photoId},previusPhoto:function(){return-1==this.photoIndex||0==this.photoIndex?null:this.album.photos[this.photoIndex-1].photoId}},watch:{editTitleText:function(){this.editTitleText=this.removeDoubleSpaces(this.editTitleText)},editDescriptionText:function(){this.editDescriptionText=this.removeDoubleSpaces(this.editDescriptionText)},photoKeywordsText:function(){this.photoKeywordsText=this.removeSpecialCharactersKeywords(this.photoKeywordsText).toLowerCase()}},methods:{switchPhoto:function(t){this.$router.currentRoute.path!="/photo/".concat(this.albumId,"/").concat(t)&&this.$router.push("/photo/".concat(this.albumId,"/").concat(t))},retrieveInfo:function(){this.editTitleText=this.photo.title,this.editDescriptionText=this.photo.description,this.renamePhotoKeywords=Object(we["a"])(this.photo.keywords)},addComment:function(){if(""!=this.commentText){var t={albumId:this.albumId,photoId:this.photoId,comment:this.commentText.trim()};this.$store.dispatch("addComment",t),this.commentText="",this.$refs.commentInput.blur()}},deleteComment:function(t){var e={albumId:this.albumId,photoId:this.photoId,commentIndex:t};this.$store.dispatch("deleteComment",e)},movePhoto:function(){if(null!=this.destinationAlbumId){var t={photoId:this.photoId,albumId:this.albumId,destinationAlbumId:this.destinationAlbumId};this.$store.dispatch("movePhoto",t),this.$router.push("/album/".concat(this.destinationAlbumId))}},deletePhoto:function(){var t={photoId:this.photoId,albumId:this.albumId};this.$store.dispatch("deletePhoto",t),this.$router.push("/album/".concat(this.albumId))},editAddKeyword:function(){this.renamePhotoKeywords.includes(this.photoKeywordsText)||this.photoKeywordsText.length>2&&this.renamePhotoKeywords.length<5&&(this.renamePhotoKeywords.push(this.photoKeywordsText),this.photoKeywordsText="")},renamePhoto:function(){if(this.editTitleText=this.editTitleText.trim(),this.editDescriptionText=this.editDescriptionText.trim(),""==this.editTitleText||this.editTitleText==this.photo.title&&this.editDescriptionText==this.photo.description&&this.renamePhotoKeywords.toString()==this.photo.keywords.toString())this.renamePhotoModal=!1;else{var t={albumId:this.albumId,photoId:this.photoId,newTitle:this.editTitleText,newDescription:this.editDescriptionText,newKeywords:this.renamePhotoKeywords};this.$store.dispatch("renamePhoto",t),this.renamePhotoModal=!1}},favoriteToggle:function(){var t={albumId:this.albumId,photoId:this.photoId};this.$store.dispatch("favoriteToggle",t)}},created:function(){var t=this.$store.getters.getAlbumIndex(this.albumId);if(-1==t)this.photoIndex=-1,this.$router.push("/");else{var e=this.$store.getters.getPhotoIndex({albumIndex:t,photoId:this.photoId});-1==e?(this.photoIndex=-1,this.$router.push("/")):this.photoIndex=e}}},Te=_e,ke=(o("3e37"),Object(d["a"])(Te,ye,Ae,!1,null,null,null)),Pe=ke.exports,Ce=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"searchView"},[t.keyword?[o("h1",[t._v("Tag search")]),t.keyword?o("h3",[t._v("#"+t._s(t.keyword))]):t._e()]:[o("h1",[t._v("Favorite photos")]),o("i",{staticClass:"fas fa-heart favoriteIcon"})],o("div",{staticClass:"photos"},t._l(t.photos,(function(t){return o("Photo",{key:t.id,attrs:{photo:t}})})),1),0==t.photos.length?o("div",{staticClass:"noResults"},[o("i",{staticClass:"far fa-times-circle errorIcon"}),o("p"),o("p",[t._v("No results found")])]):t._e()],2)},Se=[],Me=(o("d81d"),{name:"SearchView",components:{Photo:le},props:["keyword"],data:function(){return{photos:[]}},created:function(){var t=this;this.keyword?this.$store.getters.getAlbums.map((function(e){e.photos.map((function(e){e.keywords.includes(t.keyword)&&t.photos.push(e)}))})):this.$store.getters.getAlbums.map((function(e){e.photos.map((function(e){1==e.favorited&&t.photos.push(e)}))}))}}),$e=Me,De=(o("ebd4"),Object(d["a"])($e,Ce,Se,!1,null,null,null)),Oe=De.exports;n["a"].use(ot["a"]);var Be=[{path:"/",name:"Home",component:zt},{path:"/album/:id",name:"AlbumView",component:Ie,props:!0},{path:"/photo/:albumId/:photoId",name:"PhotoView",component:Pe,props:!0},{path:"/search/:keyword",name:"SearchView",component:Oe,props:!0},{path:"/favorites",name:"FavoritesView",component:Oe,props:!0},{path:"*",redirect:"/"}],Ee=new ot["a"]({mode:"hash",base:"/album-online/",routes:Be}),Ke=Ee,Ne=(o("4160"),o("a434"),o("159b"),{state:{edit:{status:!1,selectedPhotos:[],selectedAlbums:[]}},actions:{createAlbum:function(t,e){var o=t.commit,n=t.rootState;e.albumId=n.albumId++,o("createAlbum",e)},deleteAlbum:function(t,e){var o=t.commit,n=t.getters,i=n.getAlbumIndex(e);o("deleteAlbum",i)},renameAlbum:function(t,e){var o=t.commit,n=t.getters,i=n.getAlbumIndex(e.albumId),s={albumIndex:i,newTitle:e.newTitle,newDescription:e.newDescription};o("renameAlbum",s)},editStatusToggle:function(t,e){var o=t.state;o.edit.selectedPhotos=[],o.edit.selectedAlbums=[],o.edit.status=e},selectPhotoToggle:function(t,e){var o=t.state,n=o.edit.selectedPhotos.indexOf(e);-1==n?o.edit.selectedPhotos.push(e):o.edit.selectedPhotos.splice(n,1)},deleteSelectedPhotos:function(t,e){var o=t.dispatch,n=t.state;n.edit.selectedPhotos.forEach((function(t){o("deletePhoto",{albumId:e,photoId:t})})),n.edit.status=!1,n.edit.selectedPhotos=[]},moveSelectedPhotos:function(t,e){var o=t.dispatch,n=t.state;n.edit.selectedPhotos.forEach((function(t){o("movePhoto",{albumId:e.albumId,destinationAlbumId:e.destinationAlbumId,photoId:t})})),n.edit.status=!1,n.edit.selectedPhotos=[]},selectAlbumToggle:function(t,e){var o=t.state,n=o.edit.selectedAlbums.indexOf(e);-1==n?o.edit.selectedAlbums.push(e):o.edit.selectedAlbums.splice(n,1)},deleteSelectedAlbums:function(t){var e=t.dispatch,o=t.state;o.edit.selectedAlbums.forEach((function(t){e("deleteAlbum",t)})),o.edit.status=!1,o.edit.selectedAlbums=[]}},getters:{getAlbums:function(t,e,o){return o.albums},getAlbumIndex:function(t,e,o){return function(t){return o.albums.indexOf(o.albums.filter((function(e){return e.albumId==t}))[0])}},getEditInfo:function(t){return t.edit}}}),je=(o("9911"),o("bc3a")),Fe=o.n(je),Le=o("5a30"),Re=o.n(Le),Je=new Re.a,He={method:"post",url:"https://api.imgur.com/3/image",headers:{Authorization:"Client-ID 6f6d5293fd45be2"},data:Je},Ue=function(t){return He.data.append("image",t),Fe()(He)},Ve={actions:{newPhoto:function(t,e){var o=t.dispatch,n=t.commit,i=t.rootState,s=t.getters;i.globalLoading=!0,Ue(e.imageToUpload).then((function(t){e.url=t.data.data.link,e.photoId=t.data.data.id,delete e.imageToUpload;var o=s.getAlbumIndex(e.albumId);n("newPhoto",{photo:e,albumIndex:o}),i.globalLoading=!1})).catch((function(){i.globalLoading=!1,o("addTextError","Upload failed")}))},addComment:function(t,e){var o=t.commit,n=t.getters,i=n.getAlbumIndex(e.albumId),s=n.getPhotoIndex({albumIndex:i,photoId:e.photoId});o("addComment",{albumIndex:i,photoIndex:s,comment:e.comment})},deleteComment:function(t,e){var o=t.commit,n=t.getters,i=n.getAlbumIndex(e.albumId),s=n.getPhotoIndex({albumIndex:i,photoId:e.photoId});o("deleteComment",{albumIndex:i,photoIndex:s,commentIndex:e.commentIndex})},movePhoto:function(t,e){var o=t.commit,n=t.getters,i=n.getAlbumIndex(e.albumId),s=n.getAlbumIndex(e.destinationAlbumId),l=n.getPhotoIndex({albumIndex:i,photoId:e.photoId}),a={albumIndex:i,destinationAlbumIndex:s,photoIndex:l,destinationAlbumId:e.destinationAlbumId};o("movePhoto",a)},deletePhoto:function(t,e){var o=t.commit,n=t.getters,i=n.getAlbumIndex(e.albumId),s=n.getPhotoIndex({albumIndex:i,photoId:e.photoId}),l={albumIndex:i,photoIndex:s};o("deletePhoto",l)},renamePhoto:function(t,e){var o=t.commit,n=t.getters,i=n.getAlbumIndex(e.albumId),s=n.getPhotoIndex({albumIndex:i,photoId:e.photoId}),l={albumIndex:i,photoIndex:s,newTitle:e.newTitle,newDescription:e.newDescription,newKeywords:e.newKeywords};o("renamePhoto",l)},favoriteToggle:function(t,e){var o=t.commit,n=t.getters,i=n.getAlbumIndex(e.albumId),s=n.getPhotoIndex({albumIndex:i,photoId:e.photoId});o("favoriteToggle",{albumIndex:i,photoIndex:s})}},getters:{getPhotoIndex:function(t,e,o){return function(t){return o.albums[t.albumIndex].photos.indexOf(o.albums[t.albumIndex].photos.filter((function(e){return e.photoId==t.photoId}))[0])}}}},Ge={createAlbum:function(t,e){t.albums.push(e),localStorage.setItem("albumIdClickApp",JSON.stringify(t.albumId)),localStorage.setItem("albumsClickApp",JSON.stringify(t.albums))},deleteAlbum:function(t,e){t.albums.splice(e,1),localStorage.setItem("albumsClickApp",JSON.stringify(t.albums))},renameAlbum:function(t,e){t.albums[e.albumIndex].title=e.newTitle,t.albums[e.albumIndex].description=e.newDescription,localStorage.setItem("albumsClickApp",JSON.stringify(t.albums))}},Ye={newPhoto:function(t,e){t.albums[e.albumIndex].photos.push(e.photo),localStorage.setItem("albumsClickApp",JSON.stringify(t.albums))},addComment:function(t,e){t.albums[e.albumIndex].photos[e.photoIndex].comments.push(e.comment),localStorage.setItem("albumsClickApp",JSON.stringify(t.albums))},deleteComment:function(t,e){t.albums[e.albumIndex].photos[e.photoIndex].comments.splice(e.commentIndex,1),localStorage.setItem("albumsClickApp",JSON.stringify(t.albums))},movePhoto:function(t,e){var o=t.albums[e.albumIndex].photos.splice(e.photoIndex,1)[0];o.albumId=e.destinationAlbumId,t.albums[e.destinationAlbumIndex].photos.push(o),localStorage.setItem("albumsClickApp",JSON.stringify(t.albums))},deletePhoto:function(t,e){t.albums[e.albumIndex].photos.splice(e.photoIndex,1),localStorage.setItem("albumsClickApp",JSON.stringify(t.albums))},renamePhoto:function(t,e){var o=t.albums[e.albumIndex].photos[e.photoIndex];o.title=e.newTitle,o.description=e.newDescription,o.keywords=e.newKeywords,localStorage.setItem("albumsClickApp",JSON.stringify(t.albums))},favoriteToggle:function(t,e){var o=t.albums[e.albumIndex].photos[e.photoIndex];o.favorited=!o.favorited,localStorage.setItem("albumsClickApp",JSON.stringify(t.albums))}};n["a"].use(Q["a"]);var qe=new Q["a"].Store({state:{albums:[],albumId:1,globalLoading:!1,globalError:""},modules:{album:Ne,photo:Ve},mutations:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Ge),Ye),{},{loadLocalStorage:function(t){localStorage.getItem("albumsClickApp")&&localStorage.getItem("albumIdClickApp")&&(t.albums=JSON.parse(localStorage.getItem("albumsClickApp")),t.albumId=JSON.parse(localStorage.getItem("albumIdClickApp")))}}),getters:{globalLoading:function(t){return t.globalLoading},globalError:function(t){return t.globalError}},actions:{addTextError:function(t,e){var o=t.state;o.globalError=e}}}),We=o("0086"),ze=o.n(We);n["a"].use(ze.a),n["a"].directive("scroll",{inserted:function(t,e){var o=function o(n){e.value(n,t)&&window.removeEventListener("scroll",o)};window.addEventListener("scroll",o)}}),n["a"].config.productionTip=!1,new n["a"]({router:Ke,store:qe,beforeCreate:function(){this.$store.commit("loadLocalStorage")},render:function(t){return t(et)}}).$mount("#app")},"5b6f":function(t,e,o){"use strict";var n=o("81d1"),i=o.n(n);i.a},"5ced":function(t,e,o){},6860:function(t,e,o){},7348:function(t,e,o){},"760c":function(t,e,o){"use strict";var n=o("c3f5"),i=o.n(n);i.a},7891:function(t,e,o){"use strict";var n=o("44bd"),i=o.n(n);i.a},"81d1":function(t,e,o){},"85ec":function(t,e,o){},"8ade":function(t,e,o){"use strict";var n=o("9bd1"),i=o.n(n);i.a},"8baf":function(t,e,o){"use strict";var n=o("6860"),i=o.n(n);i.a},"8f78":function(t,e,o){"use strict";var n=o("7348"),i=o.n(n);i.a},"930b":function(t,e,o){},"9bd1":function(t,e,o){},"9e35":function(t,e,o){"use strict";var n=o("b09d"),i=o.n(n);i.a},a197:function(t,e,o){"use strict";var n=o("17db"),i=o.n(n);i.a},a7de:function(t,e,o){"use strict";var n=o("930b"),i=o.n(n);i.a},a884:function(t,e,o){"use strict";var n=o("e159"),i=o.n(n);i.a},afea:function(t,e,o){"use strict";var n=o("dd7b"),i=o.n(n);i.a},b013:function(t,e,o){},b09d:function(t,e,o){},b6bd:function(t,e,o){"use strict";var n=o("bce9"),i=o.n(n);i.a},bce9:function(t,e,o){},c3f5:function(t,e,o){},cccb:function(t,e,o){"use strict";var n=o("5ced"),i=o.n(n);i.a},cf05:function(t,e,o){t.exports=o.p+"img/logo.5fe11f36.png"},dd7b:function(t,e,o){},e12c:function(t,e,o){},e159:function(t,e,o){},ebd4:function(t,e,o){"use strict";var n=o("4f20"),i=o.n(n);i.a},f022:function(t,e,o){"use strict";var n=o("f7b9"),i=o.n(n);i.a},f74e:function(t,e,o){},f7b9:function(t,e,o){}});
//# sourceMappingURL=app.04571ef3.js.map